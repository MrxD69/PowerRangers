{% extends 'base.html.twig' %}

{% block title %}Login / Register{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/auth.css') }}">
{% endblock %}

{% block body %}
    <div class="container my-5">
        <!-- Pills navs -->
        <ul class="nav nav-pills nav-justified mb-3" id="ex1" role="tablist">
            <li class="nav-item" role="presentation">
                <a class="nav-link {% if activeTab == 'login' %}active{% endif %}" id="tab-login" data-bs-toggle="pill" href="#pills-login" role="tab"
                   aria-controls="pills-login" aria-selected="true">Login</a>
            </li>
            <li class="nav-item" role="presentation">
                <a class="nav-link {% if activeTab == 'register' %}active{% endif %}" id="tab-register" data-bs-toggle="pill" href="#pills-register" role="tab"
                   aria-controls="pills-register" aria-selected="false">Register</a>
            </li>
        </ul>
        <!-- Pills navs -->

        <!-- Pills content -->
        <div class="tab-content">
            <div class="tab-pane fade {% if activeTab == 'login' %}show active{% endif %}" id="pills-login" role="tabpanel" aria-labelledby="tab-login">
                <form method="POST" action="{{ path('auth_login') }}">
                    <!-- Email input -->
                    <div class="form-outline mb-4">
                        <input type="email" id="loginEmail" name="email" class="form-control" required/>
                        <label class="form-label" for="loginEmail">Email</label>
                    </div>

                    <!-- Password input -->
                    <div class="form-outline mb-4">
                        <input type="password" id="loginPassword" name="password" class="form-control" required/>
                        <label class="form-label" for="loginPassword">Password</label>
                    </div>

                    <!-- Role Selector -->
                    <div class="form-outline mb-4">
                        <select id="loginRole" name="role" class="form-control">
                            <option value="ROLE_CLIENT">Client</option>
                            <option value="ROLE_FREELANCER">Freelancer</option>
                        </select>
                        <label class="form-label" for="loginRole">Login as</label>
                    </div>

                    <button type="submit" class="btn btn-primary btn-block mb-4">Sign in</button>
                </form>
            </div>
            <div class="tab-pane fade {% if activeTab == 'register' %}show active{% endif %}" id="pills-register" role="tabpanel" aria-labelledby="tab-register">
                <form method="POST" action="{{ path('auth_register') }}">
                    <!-- Name input -->
                    <div class="form-outline mb-4">
                        <input type="text" id="registerName" name="name" class="form-control" required/>
                        <label class="form-label" for="registerName">Name</label>
                    </div>

                    <!-- Email input -->
                    <div class="form-outline mb-4">
                        <input type="email" id="registerEmail" name="email" class="form-control" required/>
                        <label class="form-label" for="registerEmail">Email</label>
                    </div>

                    <!-- Password input -->
                    <div class="form-outline mb-4">
                        <input type="password" id="registerPassword" name="password" class="form-control" required/>
                        <label class="form-label" for="registerPassword">Password</label>
                    </div>

                    <!-- Role Selector -->
                    <div class="form-outline mb-4">
                        <select id="registerRole" name="role" class="form-control">
                            <option value="ROLE_CLIENT">Client</option>
                            <option value="ROLE_FREELANCER">Freelancer</option>
                        </select>
                        <label class="form-label" for="registerRole">Register as</label>
                    </div>

                    <button type="submit" class="btn btn-primary btn-block mb-3">Register</button>
                </form>
            </div>
        </div>
    </div>
{% endblock %}